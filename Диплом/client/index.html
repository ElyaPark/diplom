<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MINJI</title>
    <link rel="stylesheet" href="style1.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>

    <div class="container">
        <div class="header">
            
            <div class="flag">
                <img src="/img/KR.png">
            </div>
            <div class="fire">
                <span>
                    <img src="/img/Fire.png"></span>
            </div>
            <div class="level" id="profile-level">13</div>
            <div class="name">MINJI</div>
            <div class="profile-containeer">
                <button class="profile-button" id="profileButton">
                    <span><a href="profile.html" class="profileButton"><img src="/img/profile.png"></span> 
                </button>
            </a>
            </div>
                <div class="menu-container">
                    <button class="menu-button" id="menuButton">
                        <span><img src="/img/more-square.png"></span> 
                    </button>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <ul>
                            <li><a href="index.html" class="menu-item"><img src="/img/home-2.png"></a></li>
                            <li><a href="book.html" class="menu-item"><img src="/img/book.png"></a></li>
                            <li><a href="message.html"><img src="/img/message.png"></a></li>
                           
                            <li><a href="setting.html"><img src="/img/setting.png"></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
   
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="lessons-panel" id="initial-panel">
            <div class="lesson-content animate__animated animate__fadeIn">
                <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–∫, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.</p>
                <div class="motivation-quote">
                    <p>"–ö–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç –∫–æ–≥–¥–∞-—Ç–æ –±—ã–ª –Ω–æ–≤–∏—á–∫–æ–º. –ù–∞—á–Ω–∏ —Å–µ–π—á–∞—Å!"</p>
                </div>
            </div>
        </div>
        
        <div class="lessons-panel" id="lesson-panel" style="display: none;">
            <div class="lesson-content animate__animated animate__fadeIn" id="lesson-content-block">
                <h3 id="lesson-title"></h3>
                <p id="lesson-description"></p>
                <div id="lesson-duration"></div>
                <div class="lesson-badges" id="lesson-badges"></div>
            </div>
        
            <div class="content" id="start-button-block">
                <button class="start-btn animate__animated animate__pulse" onclick="startLesson()">–ù–∞—á–∞—Ç—å</button>
            </div>
        
            <div class="lesson-details" id="lesson-details" style="display: none;">
                <div class="theory" id="theory-block"></div>
                <div class="practice" id="practice-block"></div>
                <div class="interactive-section" id="interactive-block" style="display: none;"></div>
                <div class="lesson-complete" id="lesson-complete" style="display: none;">
                    <div class="confetti"></div>
                    <h3>–£—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω!</h3>
                    <p>–¢—ã –º–æ–ª–æ–¥–µ—Ü! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!</p>
                    <button class="next-lesson-btn" id="nextLessonBtn">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫</button>
                    <div class="xp-earned">
                        <p>+50 XP</p>
                    </div>
                </div>
            </div>
            
          
            <div class="task-navigation" id="taskNavigation" style="display: none;">
                <button class="next-task-btn" id="nextTaskBtn">–î–∞–ª–µ–µ ‚Üí</button>
            </div>
        </div>
        
        <div class="bottom-navigation" id="lesson-buttons-panel">
            <ul id="lesson-buttons"></ul>
        </div>
    </div>

    <script src="script.js"></script>


<style>
  .intro-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
  }

  .dialog-box {
    background: white;
    padding: 25px 30px;
    max-width: 500px;
    width: 90%;
    border-radius: 16px;
    font-family: sans-serif;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
  }

  .dialog-text {
    font-size: 18px;
    margin-bottom: 20px;
  }

  .dialog-button {
    background: #e0296f;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 10px;
    cursor: pointer;
    float: right;
  }

 
</style>



<script>
  const dialogMessages = [
    "–ü—Ä–∏–≤–µ—Ç! –Ø –ú–∏–Ω–¥–∂–∏ ‚Äî –∏ —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ –≤—ã—É—á–∏—Ç—å –∫–æ—Ä–µ–π—Å–∫–∏–π —è–∑—ã–∫!",
    "–ù–∞ —ç—Ç–æ–º —Å–∞–π—Ç–µ —Ç—ã —Å–º–æ–∂–µ—à—å –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Ä–æ–∫–∏, —É—á–∏—Ç—å —Å–ª–æ–≤–∞, —Å–ª—É—à–∞—Ç—å –ø–µ—Å–Ω–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏—Ä–æ–≤–∞–Ω–∏–µ!",
    "–ù–æ –µ—Å–ª–∏ —Ç—ã –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—à—å—Å—è, —Ç–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è üôÅ",
    "–¢–∞–∫ —á—Ç–æ —Å–æ–≤–µ—Ç—É—é –≤–æ–π—Ç–∏ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å!",
    "–£–¥–∞—á–∏! üéâ"
  ];

  const dialogBox = document.getElementById("introDialog");
  const dialogText = document.getElementById("dialogText");
  const nextBtn = document.getElementById("nextDialog");
  let dialogIndex = 0;

  let isLoggedIn = false;

try {
  const res = await fetch("/api/auth/check", { credentials: "include" });
  isLoggedIn = res.ok;
} catch {
  isLoggedIn = false;
}

  const hasSeenIntro = localStorage.getItem("minjiIntroShown") === "true";

  
  if (!isLoggedIn && !hasSeenIntro) {
    dialogText.textContent = dialogMessages[dialogIndex];

    nextBtn.addEventListener("click", () => {
      dialogIndex++;
      if (dialogIndex < dialogMessages.length) {
        dialogText.textContent = dialogMessages[dialogIndex];
        if (dialogIndex === dialogMessages.length - 1) {
          nextBtn.textContent = "–ù–∞—á–∞—Ç—å";
        }
      } else {
        dialogBox.remove();
        localStorage.setItem("minjiIntroShown", "true");
      }
    });
  } else {
    dialogBox.remove(); 
  }
</script>




</body>

</html>